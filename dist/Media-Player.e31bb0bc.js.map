{"version":3,"sources":["MediaPlayer.js","plugins/AutoPlay.js","plugins/AutoPause.ts","index.js"],"names":["MediaPlayer","video","plugins","play","pause","paused","AutoPlay","document","querySelector","button","player","onclick","togglePlay","navigator","serviceWorker","register","catch","error","console","log","message"],"mappings":";;AGAA;;AACA;;AACA,ADAA,IAAA,SAAA;AAAA,ADFA,SAASM,QAAT,GAAoB,CAAE;ACEtB,YAAA;AAII,WAAA,IDHWA,KCGX,GAAA;ACFJ,ADGQ,ICHFL,KAAK,ADGE,GCHCM,MDGN,ECHc,CAACC,ADGE,IAAjB,SCHM,CAAuB,OAAvB,CAAd;AACA,ADGQ,ICHFC,KDGO,CCHD,GAAGF,QAAQ,CAACC,KDGhB,GAA0B,KCHnB,ADGwB,CCHD,QAAvB,CAAf,QDGkC,CAAwB,IAAxB,CAA6B,IAA7B,CAA1B;ACDR,ADEK,ICFCE,MAAM,GAAG,IAAIV,oBAAJ,CAAgBC,KAAhB,EAAuB,IAAIK,iBAAJ,EAAvB,CAAf;IHPMN;AACF,AGOJS,ADEI,EAAA,ICFE,CAACE,IDEH,CAAA,ECFJ,GAAiB,IDEb,CAAA,CFTYV,EESZ,GFTA,AESA,EFTkB,QESd,MAAJ,EAAU;AFTQ,AGOL,ADGT,QAAM,CCHSS,MAAM,CAACE,ADGR,GAAG,IAAI,GCHN,EAAN,eDGQ,CAAyB,KAAK,kBAA9B,EAAkD;ACH1D,ADIL,CCJZ,KDIY,SAAS,EAAE,KAAK;AFVpB,AESmE,KAAlD,CAAjB,GFTKX,KAAL,GAAaA,KAAb;AACA,AGQR,ADGQ,ICHL,ADGK,KFXKC,GEWG,CAAC,GFXT,GAAeD,CEWf,CAAiB,ECHHY,CHRM,CAACX,CEWC,MFXP,AGQvB,ADGyB,CAAY,CCHJ,EHRO,EAAhC,AEWA;AFVH,AGQDW,ADGC,ECHDA,CDFA,CFLA,OGOS,CAACC,aAAV,CAAwBC,QAAxB,CAAiC,sCAAjC,EAA2CC,KAA3C,CAAiD,UAAAC,KAAK,EAAI;AACtDC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACH,ADED,EAAA,CCJA,QDIA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,OAAnB,EAA0B;ACD7B,ADEO,QAAM,KAAK,GAAG,OAAO,CAAC,CAAD,CAArB;AAEA,QAAM,SAAS,GAAG,KAAK,CAAC,iBAAN,IAA2B,KAAK,SAAlD;WFbJ,gBAAM;AACF,AEaA,QAAG,GFbEnB,KAAL,CAAWE,AEaX,EAAa,EFbb;AACH,AEaO,MFZR,KEYa,MAAL,CAAY,IAAZ;AACH,KAFD,MAEK;AACD,WAAK,MAAL,CAAY,KAAZ;AACH;AACJ,GATD,QFNA,iBAAO;AACH,WAAKF,KAAL,CAAWG,KAAX;AACH,AEcL,SAAA,SAAA;AAxBA,CAAA,EAAA;;AA0BA,OAAA,CAAA,GFdI,IEcJ,GAAe,SAAf,MFdgB;AACR,UAAG,KAAKH,KAAL,CAAWI,MAAd,EAAqB;AACjB,aAAKJ,KAAL,CAAWE,IAAX;AACH,OAFD,MAEK;AACD,aAAKF,KAAL,CAAWG,KAAX;AACH;AACJ;;;;;;eAGUJ","file":"Media-Player.e31bb0bc.js","sourceRoot":"..","sourcesContent":["class MediaPlayer {\n    constructor(video){\n        this.video = video;\n        this.plugins = video.plugins || [];\n    }\n    //Play\n    play(){\n        this.video.play();\n    }\n    //Pause\n    pause(){\n        this.video.pause();\n    }\n \n    togglePlay(){\n        if(this.video.paused){\n            this.video.play();\n        }else{\n            this.video.pause();\n        }\n    }\n}\n\nexport default MediaPlayer;","function AutoPlay() {}\n\n\nexport default AutoPlay;\n\n","import MediaPlayer from \"../MediaPlayer\";\n\nclass AutoPause{\n    private threshold:number;\n    player: MediaPlayer;\n\n    constructor(){\n        this.threshold = 0.25;\n        this.handleInterseccion = this.handleInterseccion.bind(this);\n    }\n    run(player) {\n        const observer = new IntersectionObserver(this.handleInterseccion, {\n            threshold: this.threshold\n        })\n        observer.observe(this.player.media)\n    }\n    handleInterseccion(entries) {\n        const entry = entries[0];\n\n        const isVisible = entry.intersectionRatio >= this.threshold\n        if(isVisible){\n            this.player.play()\n        }else{\n            this.player.pause()\n        }  \n    }\n}\n\nexport default AutoPause;","import MediaPlayer from './MediaPlayer.js';\nimport AutoPlay from './plugins/AutoPlay.js';\nimport AutoPause from './plugins/AutoPause.ts';\n\nconst video = document.querySelector(\"video\");\nconst button = document.querySelector(\"button\");\n\nconst player = new MediaPlayer(video, new AutoPlay());\nbutton.onclick = () => player.togglePlay();\n\n\nif('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/sw.js').catch(error => {\n        console.log(error.message);\n    });\n}"]}